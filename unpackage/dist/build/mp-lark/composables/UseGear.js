"use strict";var e=require("../common/vendor.js"),t=require("../common/apis/assets.js"),s=require("../common/apis/borrow.js"),o=(e=>(e.free="IDLE",e.booked="PENDING",e.lend="INUSE",e.repair="REPAIR",e))(o||{});const r=e.ref([]),n=e.ref([]),a=e.ref("");exports.GearStatus=o,exports.GearStatusString={IDLE:"空闲",PENDING:"锁定",INUSE:"占用",REPAIR:"维修"},exports.UseGear=()=>{const e=(e,s,o)=>(console.log("pendingLentAt",s,typeof s),console.log("pendingReturnAt",o),void 0!==s&&void 0!==o?t.getAssetsByType(e,s,o).then((e=>(n.value=e,console.log("nowGearList",n.value),e))):t.getAssetsByType(e).then((e=>(n.value=e,console.log("nowGearList",n.value),e))));return{getAssetList:()=>t.getAssets().then((t=>r.value=t.map(((t,s)=>(0===s&&e(t),{name:t,selected:0===s}))))),getMyFavList:(e,s)=>t.getFav(e,s).then((e=>(n.value=e,console.log("fav",e),e))),getMyAssetByType:e,getBookInfo:e=>s.previewTicket(e),nowGearList:n,nowType:a,gearList:r}};
